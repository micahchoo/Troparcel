version: "3.8"

services:
  troparcel:
    build: ./server
    ports:
      - "2468:2468"
    volumes:
      - troparcel-data:/app/data
    environment:
      - PORT=2468
      - PERSISTENCE_DIR=/app/data
      # Uncomment to require tokens for specific rooms:
      # - AUTH_TOKENS=my-room:my-secret,another-room:another-secret
    restart: unless-stopped

volumes:
  troparcel-data:
